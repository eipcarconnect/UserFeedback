<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Index</title>
</head>
<body>
    <p>Trier les commentaires par :
        <select>
            <option value="date">Date de publication</option>
            <option value="user">Utilisateur</option>
            <option value="platform">Platforme</option>
            <option value="rate">Note</option>
            <option value="message">Message</option>
        </select>
    </p>
    <h2>Commentaires</h2>
        Commentaires : <span id="nbComs"></span><br/>

    <p><button onclick="getNbCom()">Rafraichir</button></p>

    <script>
        api_url = "http://127.0.0.1:4242/"

        getAverageSatisfaction()

        function getNbCom()
        {
            document.getElementById("nbComs").innerHTML = "2"
        }

        function getAverageSatisfaction() {
            var xmlHttp = new XMLHttpRequest()
            xmlHttp.onload = function () {
                data = JSON.parse(this.responseText)
                document.getElementById("nbComs").innerHTML = data["data"]
            }
            xmlHttp.open( "GET", api_url + "average_satisfaction", true ) // false for synchronous request
            xmlHttp.send( null )
        }

    </script>
</body>
</html>